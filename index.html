<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server Control Liviu</title>
    <style>
        body { background-color: #121212; color: white; font-family: sans-serif; text-align: center; padding: 10px; }
        .card { border: 2px solid #444; border-radius: 12px; padding: 15px; margin: 15px auto; max-width: 450px; background: #1a1a1a; }
        .btn { padding: 10px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; width: 95%; margin: 5px; color: white; }
        .btn-yt { background: #e74c3c; width: 45%; }
        .btn-green { background: #c0392b; }
        .btn-blue { background: #3498db; }
        input { width: 90%; padding: 10px; margin: 10px 0; border-radius: 5px; border: none; background: #333; color: white; }
    </style>
</head>
<body>

    <div class="card">
        <h2>ğŸŒ TABLOU DE BORD</h2>
        <a href="http://100.84.134.45:8081" target="_blank" style="color:#f1c40f; text-decoration:none; font-weight:bold;">ğŸ“‚ INTRÄ‚ PE SERVER (FILEBROWSER)</a>
    </div>

    <div class="card">
        <h3>ğŸµ YouTube (Port 9001)</h3>
        <input type="text" id="ytUrl" placeholder="Link YouTube...">
        <button onclick="yt('mp3')" class="btn btn-yt">MP3</button>
        <button onclick="yt('mp4')" class="btn btn-yt" style="background:#3498db;">MP4</button>
    </div>

    <div class="card">
        <h3>ğŸ–¼ï¸ Imagine â” PDF</h3>
        <input type="file" id="imgInp" multiple accept="image/*">
        <button class="btn btn-green" onclick="up('imgInp', 'convert-images')">GENEREAZÄ‚ PDF</button>
    </div>

    <div class="card">
        <h3>ğŸ“„ Word â” PDF Profesional</h3>
        <input type="file" id="wordInp" accept=".docx">
        <button class="btn btn-blue" onclick="up('wordInp', 'word-to-pdf')">CONVERTEÈ˜TE CU LIBREOFFICE</button>
    </div>

    <div class="card">
        <h3>ğŸ“– Scanner CÄƒrÈ›i (OCR)</h3>
        <input type="file" id="ocrInp" accept="image/*">
        <button class="btn btn-green" style="background:#f39c12;" onclick="up('ocrInp', 'ocr-scan')">EXTRAGE TEXTUL</button>
    </div>

    <script>
        const IP = "100.84.134.45";

        function yt(format) {
    const url = document.getElementById('ytUrl').value;
    if(!url) return alert("Introdu un link de YouTube!");
    
    const tip = (format === 'mp3') ? "Muzica" : "Videoclipul";
    alert(`â³ ${tip} se descarcÄƒ pe tabletÄƒ. Vei primi confirmarea imediat...`);

    // Folosim fetch pentru a nu pÄƒrÄƒsi pagina È™i a evita eroarea "Not Found"
    fetch(`http://${IP}:9001/download?format=${format}&url=${url}`)
    .then(r => r.text())
    .then(mesaj => {
        alert(mesaj); // Aici va apÄƒrea confirmarea finalÄƒ
    })
    .catch(e => alert("Eroare la conexiunea cu tableta: " + e));
}

        function up(id, ruta) {
            const fileInput = document.getElementById(id);
            if (fileInput.files.length === 0) return alert("Alege fiÈ™ierele!");
            const formData = new FormData();
            for (let file of fileInput.files) { formData.append("files", file); }
            alert("â³ Se trimite la tabletÄƒ...");
            fetch(`http://${IP}:9000/${ruta}`, { method: 'POST', body: formData })
            .then(r => r.text()).then(d => alert(d)).catch(e => alert("Eroare: " + e));
        }
    </script>
</body>
</html>
